{"version":3,"sources":["cmps/companie-preview.jsx","cmps/companie-list.jsx","cmps/layout/MainLayout.jsx","services/storage.service.js","services/util.service.js","services/dataService.js","cmps/companie-preview-results.jsx","cmps/companies-list-results.jsx","cmps/search-result.jsx","cmps/SearchCompanie.jsx","services/db-service.js","pages/home-page.jsx","routes.js","root-cmp.jsx","index.js"],"names":["CompaniePreview","console","log","this","props","companie","name","symbol","country","employees","idx","src","logo","Component","CompanieList","companies","map","_id","MainLayout","children","className","loadFromStorage","key","val","localStorage","getItem","JSON","parse","saveToStorage","stringify","removeFromStorage","removeItem","utilService","makeId","length","txt","possible","i","charAt","Math","floor","random","makeLorem","size","words","getRandomIntInclusive","min","max","ceil","storeToStorage","value","setItem","data","undefined","companieCache","dataService","getCompanieData","getCompanieDateSearch","keySerch","a","storageService","axios","get","res","results","CompaniePreviewResult","addNewCompanie","slice","onClick","CompaniesList","SearchResult","state","companiesData","setState","prevProps","_","require","SearchCompanie","keySearch","isOnSearch","delayedHandleChange","debounce","toUpperCase","result","handleChange","target","type","onChange","DbService","query","remove","post","put","insert","collectionName","collection","Promise","resolve","id","find","curr","findIndex","Error","splice","item","push","items","forEach","routes","path","component","ticker","newCompanie","loadCompaniesData","dataCompaniesResults","label","RootCmp","basename","route","exact","React","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2cf8dba7.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nexport class CompaniePreview extends Component {\r\n    componentDidMount() {\r\n        console.log(this.props.companie.name);\r\n        console.log(this.props.companie.symbol);\r\n        console.log(this.props.companie.country);\r\n        console.log(this.props.companie.employees);\r\n    }\r\n\r\n    \r\n    render() {\r\n        const { companie, idx } = this.props\r\n        if (!companie) return <div></div>\r\n        return (\r\n            <>\r\n        \r\n                <td><img src={companie.logo} /></td>\r\n                <td>{companie.name}</td>\r\n                <td>{companie.symbol}</td>\r\n                <td>{companie.country}</td>\r\n                <td>{companie.employees}</td>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n","import React from 'react'\r\nimport { CompaniePreview } from './companie-preview'\r\n\r\n\r\nexport function CompanieList({ companies }) {\r\n    return (<>\r\n        {companies.map((companie, idx) => {\r\n                return<tr key={companie._id}><CompaniePreview key={companie._id} companie={companie} idx={idx} />\r\n            </tr>\r\n        }\r\n        )}\r\n    </>\r\n    )\r\n}\r\n\r\n","export const MainLayout = ({ children }) => {\r\n     return <div className=\"main-container\">\r\n         {children}\r\n     </div>\r\n\r\n}","function loadFromStorage(key) {\r\n    var val = localStorage.getItem(key)\r\n    return (val)? JSON.parse(val) : null;\r\n}\r\n\r\nfunction saveToStorage(key, val) {\r\n    localStorage[key] = JSON.stringify(val);\r\n}\r\n\r\nfunction removeFromStorage(key) {\r\n    localStorage.removeItem(key) \r\n}\r\n\r\n\r\nexport default {\r\n    loadFromStorage,\r\n    saveToStorage,\r\n    removeFromStorage\r\n\r\n}","export const utilService = {\r\n    makeId,\r\n    makeLorem,\r\n    getRandomIntInclusive,\r\n    storeToStorage,\r\n    loadFromStorage\r\n}\r\n\r\n\r\nfunction storeToStorage(key, value) {\r\n    localStorage.setItem(key, JSON.stringify(value) || null);\r\n}\r\nfunction loadFromStorage(key) {\r\n    let data = localStorage.getItem(key);\r\n    return (data) ? JSON.parse(data) : undefined;\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n    var words = ['The sky', 'above', 'the port', 'was', 'the color of television', 'tuned', 'to', 'a dead channel', '.', 'All', 'this happened', 'more or less', '.', 'I', 'had', 'the story', 'bit by bit', 'from various people', 'and', 'as generally', 'happens', 'in such cases', 'each time', 'it', 'was', 'a different story', '.', 'It', 'was', 'a pleasure', 'to', 'burn'];\r\n    var txt = '';\r\n    while (size > 0) {\r\n        size--;\r\n        txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive \r\n}\r\n\r\n\r\nexport function Duration({ className, seconds }) {\r\n    return (\r\n        <time dateTime={`P${Math.round(seconds)}S`} className={className}>\r\n            {format(seconds)}\r\n        </time>\r\n    )\r\n}\r\n\r\nfunction format(seconds) {\r\n    const date = new Date(seconds * 1000)\r\n    const hh = date.getUTCHours()\r\n    const mm = date.getUTCMinutes()\r\n    const ss = pad(date.getUTCSeconds())\r\n    if (hh) {\r\n        return `${hh}:${pad(mm)}:${ss}`\r\n    }\r\n    return `${mm}:${ss}`\r\n}\r\n\r\nfunction pad(string) {\r\n    return ('0' + string).slice(-2)\r\n}\r\n\r\n\r\n","import storageService from './storage.service'\r\nimport { utilService } from './util.service';\r\nimport axios from 'axios'\r\nconst KEY = 'data';\r\nlet companieCache = []\r\nexport const dataService = {\r\n    getCompanieData,\r\n    getCompanieDateSearch\r\n}\r\nasync function getCompanieData(keySerch) {\r\n    debugger\r\n    if (!keySerch) return []\r\n    companieCache = storageService.loadFromStorage([keySerch])\r\n    if (companieCache) {\r\n        if (companieCache.length)\r\n            companieCache = companieCache[0]\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (companieCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://api.polygon.io/v1/meta/symbols/${keySerch}/company?apiKey=pv_VVp9rQJ7d8X4aU0wI8Fw2W_GHWVOD`)\r\n        res.data._id = utilService.makeId()\r\n        await storageService.saveToStorage([keySerch], res.data)\r\n        return res.data\r\n    }\r\n    catch (err) {\r\n        console.log('Cannwot reach server:', err);\r\n    }\r\n}\r\nasync function getCompanieDateSearch(keySerch) {\r\n    if (!keySerch) return []\r\n    companieCache = storageService.loadFromStorage([keySerch])\r\n    if (companieCache) {\r\n        console.log('No need to fetch, retrieving from Cache');\r\n        return (companieCache)\r\n    }\r\n    try {\r\n        const res = await axios.get(`https://api.polygon.io/v3/reference/tickers?search=${keySerch}&active=true&sort=ticker&order=asc&limit=5&apiKey=pv_VVp9rQJ7d8X4aU0wI8Fw2W_GHWVOD`)\r\n        await storageService.saveToStorage([keySerch], res.data.results)\r\n        res.data.results.map(companie => {\r\n            companie._id = utilService.makeId()\r\n        })\r\n        return res.data.results\r\n    }\r\n    catch (err) {\r\n        console.log('Cannwot reach server:', err);\r\n    }\r\n}\r\n\r\n//https://api.polygon.io/v1/meta/symbols/${keySerch}/company?&limit=1&apiKey=pv_VVp9rQJ7d8X4aU0wI8Fw2W_GHWVOD\r\n\r\n//https://api.polygon.io/v3/reference/tickers?search=${keySerch}&active=true&sort=ticker&order=asc&limit=1&apiKey=pv_VVp9rQJ7d8X4aU0wI8Fw2W_GHWVOD\r\n\r\n\r\n","import React, { Component } from 'react'\r\n\r\nexport class CompaniePreviewResult extends Component {\r\n\r\n\r\n    render() {\r\n        const { companie, addNewCompanie } = this.props\r\n        return (\r\n            <div className='result-preview'>\r\n                <span>\r\n                    {companie.name.length < 25 ? companie.name : companie.name.slice(0, 50) + '...'}\r\n                </span>\r\n                    <button onClick={() => { addNewCompanie(companie) }}>add</button>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { CompaniePreviewResult } from './companie-preview-results'\r\n\r\n\r\nexport function CompaniesList({addNewCompanie, companies }) {\r\n    return (<div className='list-results'>\r\n        {companies.map((companie, idx) => {\r\n            return <CompaniePreviewResult addNewCompanie={addNewCompanie}key={idx} companie={companie} idx={idx} />\r\n        }\r\n        )}\r\n    </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { CompaniesList } from './companies-list-results'\r\n\r\nexport class SearchResult extends Component {\r\n    state = {\r\n        companiesData: null,\r\n    }\r\n    componentDidMount() {\r\n        const { companiesData } = this.props\r\n        this.setState({ companiesData })\r\n\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.companiesData !== prevProps.companiesData) {\r\n            const { companiesData } = this.props\r\n            this.setState({ companiesData })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { companiesData } = this.state\r\n        if (!companiesData || !companiesData.length) return <div>No results found</div>\r\n        return (\r\n            <section className='search-result-container'>\r\n                {companiesData.length &&\r\n                    <CompaniesList addNewCompanie={this.props.addNewCompanie} companies={companiesData.slice(0, 5)} />\r\n                }\r\n            </section>\r\n        )\r\n    }\r\n\r\n}\r\n","import React, { Component } from 'react'\r\nimport { dataService } from '../services/dataService';\r\nimport { SearchResult } from './search-result';\r\nvar _ = require('lodash');\r\nexport class SearchCompanie extends Component {\r\n    state = {\r\n        keySearch: null,\r\n        isOnSearch: false,\r\n        companiesData: null,\r\n\r\n    }\r\n    delayedHandleChange = _.debounce(async () => {\r\n        if (!this.state.keySearch) return\r\n        const result = await dataService.getCompanieDateSearch(this.state.keySearch.toUpperCase())\r\n        if (!result) {\r\n            result = []\r\n        }\r\n        this.setState({ companiesData: result }, () => {\r\n            this.setState({ isOnSearch: true });\r\n        })\r\n    }, 700);\r\n\r\n\r\n    handleChange = async ({ target }) => {\r\n        this.setState({ keySearch: target.value }, () => {\r\n            if (this.state.keySearch === '' || this.state.keySearch === ' ') {\r\n                this.setState({ isOnSearch: false })\r\n                return\r\n            }\r\n            this.delayedHandleChange(this.state.keySearch)\r\n        })\r\n\r\n    }\r\n    render() {\r\n        const {isOnSearch,companiesData}= this.state\r\n        return (\r\n            <>\r\n                <input type='text' onChange={this.handleChange} />\r\n                {\r\n                    isOnSearch &&\r\n                    <SearchResult addNewCompanie={this.props.addNewCompanie} companiesData={companiesData}  />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport { utilService } from './util.service';\r\n\r\nexport const DbService = {\r\n    query,\r\n    get,\r\n    remove,\r\n    post,\r\n    put,\r\n    insert\r\n};\r\n\r\nconst ID_FIELD = '_id';\r\nfunction query(collectionName) {\r\n    var collection = utilService.loadFromStorage(collectionName);\r\n    if (!collection || !collection.length) {\r\n        collection = [{\r\n            name: \"Apple Inc.\",\r\n            symbol: \"AAPL\",\r\n            country: \"usa\",\r\n            employees: \"123000\",\r\n            logo: \"https://s3.polygon.io/logos/aapl/logo.png\",\r\n            _id: \"101a\"\r\n        },\r\n        {\r\n            name: \"Analog Devices Inc\",\r\n            symbol: \"ADI\",\r\n            country: \"usa\",\r\n            employees: \"15300\",\r\n            logo: \"https://s3.polygon.io/logos/adi/logo.png\",\r\n            _id: \"102a\"\r\n        },\r\n        {\r\n            name: \"Automatic Data Processing Inc.\",\r\n            symbol: \"ADP\",\r\n            country: \"usa\",\r\n            employees: \"57000\",\r\n            logo: \"https://s3.polygon.io/logos/adp/logo.png\",\r\n            _id: \"103a\"\r\n\r\n        },\r\n        \r\n        {\r\n            name: \"Amyris Inc.\",\r\n            symbol: \"AMRS\",\r\n            country: \"usa\",\r\n            employees: \"414\",\r\n            logo: \"https://s3.polygon.io/logos/amrs/logo.png\",\r\n            _id: \"104a\"\r\n        }]\r\n        //collection = ['ARBE','P', 'AAPL', 'ADI', 'ADP', 'FB', 'TSLA', 'AEP', 'AMGN', 'TWTR', 'GOOGL',]\r\n        utilService.storeToStorage(collectionName, collection);\r\n    }\r\n    return Promise.resolve(collection);\r\n}\r\n\r\n\r\n\r\nasync function get(collectionName, id) {\r\n    var collection = await query(collectionName);\r\n    return collection.find(curr => curr[ID_FIELD] === id);\r\n}\r\n\r\nasync function remove(collectionName, id) {\r\n    //debugger; // eslint-disable-line no-debugger\r\n    var collection = await query(collectionName);\r\n    var idx = collection.findIndex(curr => curr[ID_FIELD] === id);\r\n    if (idx === -1) throw new Error('something went wrong');\r\n    collection.splice(idx, 1);\r\n\r\n    utilService.storeToStorage(collectionName, collection);\r\n    return Promise.resolve();\r\n}\r\n\r\nasync function post(collectionName, item) {\r\n    var collection = await query(collectionName);\r\n    collection.push(item);\r\n    utilService.storeToStorage(collectionName, collection);\r\n    return Promise.resolve(item);\r\n}\r\n\r\nasync function put(collectionName, item) {\r\n    var collection = await query(collectionName);\r\n    let idx = collection.findIndex(curr => curr[ID_FIELD] === item[ID_FIELD]);\r\n    if (idx === -1) throw new Error('something went wrong');\r\n    collection[idx] = item;\r\n\r\n    utilService.storeToStorage(collectionName, collection);\r\n    return Promise.resolve(item);\r\n}\r\n\r\nasync function insert(collectionName, items) {\r\n    var collection = await query(collectionName);\r\n    items.forEach(curr => curr[ID_FIELD] = utilService.makeId());\r\n    collection.push(...items);\r\n\r\n    utilService.storeToStorage(collectionName, collection);\r\n    return Promise.resolve();\r\n}\r\n","import React, { Component } from 'react'\r\nimport { CompanieList } from '../cmps/companie-list'\r\nimport { MainLayout } from '../cmps/layout/MainLayout'\r\nimport { SearchCompanie } from '../cmps/SearchCompanie.jsx'\r\nimport { dataService } from '../services/dataService'\r\nimport { DbService } from '../services/db-service'\r\n\r\nexport class HomePage extends Component {\r\n    state = {\r\n        companiesData: null\r\n    }\r\n    componentDidMount() {\r\n        this.loadCompaniesData()\r\n    }\r\n\r\n    addNewCompanie = async (companie) => {\r\n        debugger\r\n        let newCompanie = await dataService.getCompanieData(companie.ticker)\r\n        if(!newCompanie) return\r\n        newCompanie = {\r\n            name: newCompanie.name,\r\n            symbol: newCompanie.symbol,\r\n            country: newCompanie.country,\r\n            logo: newCompanie.logo,\r\n        }\r\n        await DbService.post('companie', newCompanie)\r\n        this.loadCompaniesData()\r\n    }\r\n\r\n    loadCompaniesData = async () => {\r\n        const dataCompaniesResults = await DbService.query('companie')\r\n        //const unresolvedResults = companiesTicker.map(async (companie) => {\r\n        //    return await dataService.getCompanieData(companie)\r\n        //})\r\n        //let dataCompaniesResults = await Promise.all(unresolvedResults)\r\n        this.setState({ companiesData: dataCompaniesResults })\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const { companiesData } = this.state\r\n        if (!companiesData) return <div>loading....</div>\r\n        return (\r\n            <MainLayout>\r\n                <SearchCompanie addNewCompanie={this.addNewCompanie} />\r\n                <table>\r\n                    <thead>\r\n                        <tr key='1'>\r\n\r\n                            <th>logo</th>\r\n                            <th>name</th>\r\n                            <th>ticker</th>\r\n                            <th>country</th>\r\n                            <th>employees</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <CompanieList companies={companiesData} />\r\n                    </tbody>\r\n                </table>\r\n            </MainLayout>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n","import {HomePage} from './pages/home-page.jsx'\r\n\r\n// Routes accesible from the main navigation (in AppHeader)\r\nconst routes = [\r\n    {\r\n        path:'/',\r\n        component: HomePage,\r\n        label: 'Home 🏠',\r\n    },\r\n   \r\n]\r\n\r\nexport default routes;","import React from 'react'\r\n\r\n// const { Switch, Route } = ReactRouterDOM\r\nimport { Switch, Route } from 'react-router'\r\nimport routes from './routes'\r\nimport { HashRouter, Link } from \"react-router-dom\";\r\n\r\n\r\nexport class RootCmp extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <HashRouter basename='/'>\r\n\r\n                <div>\r\n                    <main>\r\n                        <Switch>\r\n                            {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n                        </Switch>\r\n                    </main>\r\n                </div>\r\n            </HashRouter>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport {RootCmp} from './root-cmp';\nimport './assets/styles/main.scss';\n\n\n\nReactDOM.render(\n<React.StrictMode>\n      <Router>\n        <RootCmp />\n      </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}